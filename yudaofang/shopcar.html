<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>购物车</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<!--导航-->
<div class="header">
    <div class="center clearfix">
        <div class="logo"><img src="images/logo.jpg" alt="" width="167" height="130"></div>
        <div class="nav">
            <div class="tel clearfix">
                <p>服务咨询电话<span>400-000-000</span></p>
                <img src="images/phone.png" alt="" width="36"height="36">
            </div>
            <!--以下未登录状态-->
            <!--<div class="enter clearfix">-->
            <!--<p><a href="#" class="active">登录</a></p>-->
            <!--<p><a href="#" class="activet">注册</a></p>-->
            <!--</div>-->
            <!--以下登录状态-->
            <div class="product_user clearfix">
                <p><a href="" class="active">
                    <span><img src="images/user.png" alt="" width="20px" height="20px"></span>
                    用户名
                    <span class=""><img class="m-t-6" src="images/xiafff.png" alt="" width="10px" height="6px"></span>
                </a>
                </p>
            </div>
            <ul class="clearfix">
                <li><a href="index.html">首页</a></li>
                <li><a href="productCenter.html" class="active">产品中心<img src="images/xia.png" width="14" height="7"> </a></li>
                <li><a href="about.html">关于我们<img src="images/xia.png" width="14" height="7"></a></li>
                <li><a href="contactUs.html">联系我们<img src="images/xia.png" width="14" height="7"></a></li>
            </ul>
        </div>
    </div>
</div>
<!--导航结束-->
<!--内容-->
<div class="car_con">
    <div class="content-bg ll_content-bg">
        <div class="content">
            <ul class="order-th">
                <li>商品</li>
                <li>单价</li>
                <li>数量</li>
                <li>小计</li>
                <li>操作</li>
            </ul>
            <div class="order">
                <ul id="tab_lisy" class="order-list">
                    <li>
                        <div>
                        <span class="checkbox fl">
                            <input type="checkbox"   value="0"><label></label>
                        </span>
                            <a href="">
                                <img src="images/shop2.jpg" width="98px" height="98px" class="fl" alt=""/>
                            </a>
                            <div class="fl order-name">
                                <h3><a href="">红虫蚯蚓鲫鱼</a></h3>
                                <p class="ll_xiang">规格：1kg</p>
                            </div>
                        </div>
                        <div>
                            <!--<p class="yuanjia">￥799.00</p>-->
                            <p class="price">￥<span>120000.00</span>元</p>
                        </div>
                        <div>
                            <div class="add-reduce">
                                <button class="reduce">-</button><input type="text"  readonly="readonly" value="1" class="val"><button class="add">+</button>
                            </div>
                        </div>
                        <div>
                            <!--<span class="more">￥799.00</span>-->
                            <span class="more">￥<span>120000.00</span><span>元</span></span>
                        </div>
                        <div class="delete">
                            <img src="images/del.png" alt="">
                        </div>
                    </li>
                    <li>
                        <div>
                        <span class="checkbox fl">
                            <input type="checkbox"   value="0"><label></label>
                        </span>
                            <a href="">
                                <img src="images/shop2.jpg" width="98px" height="98px" class="fl" alt=""/>
                            </a>
                            <div class="fl order-name">
                                <h3><a href="">红虫蚯蚓鲫鱼</a></h3>
                                <p class="ll_xiang">规格：1kg</p>
                            </div>
                        </div>
                        <div>
                            <!--<p class="yuanjia">￥799.00</p>-->
                            <p class="price">￥<span>120000.00</span>元</p>
                        </div>
                        <div>
                            <div class="add-reduce">
                                <button class="reduce">-</button><input type="text"  readonly="readonly" value="1" class="val"><button class="add">+</button>
                            </div>
                        </div>
                        <div>
                            <!--<span class="more">￥799.00</span>-->
                            <span class="more">￥<span>120000.00</span><span>元</span></span>
                        </div>
                        <div class="delete">
                            <img src="images/del.png" alt="">
                        </div>
                    </li>
                </ul>
            </div>
            <div class="jiesuanbar ll_jiesuanbar">
                <div class="fl">
                <span class="checkbox" id="all_line">
                     全选
                </span>

                    <span style="margin-left: 50px" id="ifdel">删除选中</span>
                </div>
                <div class="fr" style="height: 60px">
                    <span>已选商品 <span class="more1">3</span> 件</span>
                    <span>合计（不含运费）：<span class="allmore" style="font-size: 24px;color:#9F0102;"></span><span style="font-size: 24px;color:#9F0102;">.00元</span></span>
                    <div class="jiesuan_btn btn btn-red">
                        <a href="">结 算</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="carBottom">
        <p>购买该商品的用户还购买了</p>
        <ul class="clearfix">
            <li>
                <a href="details.html">
                    <img src="images/shop.jpg" alt="">
                    <p class="title">红虫蚯蚓鲫鱼</p>
                    <p class="money">30.00元</p>
                </a>
            </li>
            <li>
                <a href="details.html">
                    <img src="images/shop.jpg" alt="">
                    <p class="title">红虫蚯蚓鲫鱼</p>
                    <p class="money">30.00元</p>
                </a>
            </li>
            <li>
                <a href="details.html">
                    <img src="images/shop.jpg" alt="">
                    <p class="title">红虫蚯蚓鲫鱼</p>
                    <p class="money">30.00元</p>
                </a>
            </li>
            <li>
                <a href="details.html">
                    <img src="images/shop.jpg" alt="">
                    <p class="title">红虫蚯蚓鲫鱼</p>
                    <p class="money">30.00元</p>
                </a>
            </li>
        </ul>
    </div>



</div>
<!--内容结束-->
<!--底部-->
<div class="footer">
    <div class="con clearfix">
        <div class="bottom_left">
            <ul>
                <li>
                    <p><a href="#">产品中心</a></p>
                    <p><a href="#">热销产品</a></p>
                    <p><a href="#">绿色产品</a></p>
                    <p><a href="#">特价产品</a></p>
                </li>
                <li>
                    <p><a href="#">新闻中心</a></p>
                    <p><a href="#">热销产品</a></p>
                    <p><a href="#">绿色产品</a></p>
                    <p><a href="#">特价产品</a></p>
                </li>
                <li>
                    <p><a href="#">关于我们</a></p>
                    <p><a href="#">认识我们</a></p>
                    <p><a href="#">线上反馈</a></p>
                    <p><a href="#">联系我们</a></p>
                </li>
            </ul>
        </div>
        <div class="bottom_right">
            <p class="tel">400-400-400</p>
            <p class="title">欢迎订购  健康产品</p>
            <div class="img">
                <img src="images/qq.png" alt="">
                <img src="images/weixin.png" alt="">
                <img src="images/weibo.png" alt="">
            </div>
        </div>
    </div>
    <div class="footer_bottom">
        <p>生态农业公司 版权所有 © 2008-2016 湘ICP备8888888</p>
        <p>本页面内容为网站演示数据，前台页面内容都可以在后台修</p>
        <p>Powered by Metinfo 5.3.19</p>
    </div>
</div>
<!--底部结束-->
<script src="js/jquery-1.11.1.min.js"></script>
<script src="unslider.min.js"></script>
<script src="js/ind.js"></script>
<script>
    var oUl = document.getElementsByClassName('order-list')[0];
    var aLi = oUl.getElementsByTagName('li');
    for(var i = 0; i < aLi.length; i++) {
        fn1(aLi[i]);
    }
    getAllMoney();//总价计算
    getGoodsNum();//总产品数

    function fn1(aLi) {
        //商品变化的数量
        var aStrong = aLi.getElementsByClassName('val')[0];
        //单价
        var aEm = aLi.getElementsByTagName('span')[1];
        //小计
        var aSpan = aLi.getElementsByTagName('span')[3];
        //			  console.log(aSpan)
        //加号
        var addNum = aLi.getElementsByTagName('button')[1];
        //减号
        var subNum = aLi.getElementsByTagName('button')[0];
        //商品变化的数量
        var num = Number(aStrong.value);
        //单价
        var price = parseFloat(aEm.innerHTML);
        subNum.onclick = function() {
            if(num > 1) {
                num--;
                aStrong.value = num;
                aSpan.innerHTML = (num * price).toFixed(1)
            }
            getAllMoney();//总价计算
            getGoodsNum();//计算产品数
        }
        addNum.onclick = function() {
            num++;
            aStrong.value = num;
            aSpan.innerHTML = (num * price).toFixed(1)
            getAllMoney();//总价计算
            getGoodsNum();//计算产品数
        }
    }
    //单行删除
    $(".delete").click(function(){
        $(this).parents('li').remove()
    });
    //全选、反选
    var line=1;
    $("#all_line").on("click",function() {
        if (line == 1) {
            $("#tab_lisy").find(":checkbox").prop("checked",true).val("1");
            $(this).text("取消全选");
            line=0;
        }else{
            $("#tab_lisy").find(":checkbox").prop("checked",false).val("0");
            $(this).text("全选");
            line=1;
        }
    });
    //单选
    $("#tab_lisy").find(":checkbox").on("click",function() {
        if($(this).val()==0){
            $(this).prop("checked",true).val("1");
        }else{
            $(this).prop("checked",false).val("0");
        }
    });
    // 删除所有选中的
    $("#ifdel").on("click",function(){
        $('#tab_lisy').find(":checkbox[value=1]").parents("li").remove()
    });

    //总价计算
    function getAllMoney() {
        var oUl = document.getElementsByClassName('order-list')[0];
        var aLi = oUl.getElementsByTagName('li');
        var allMoney=0;
        for(var i = 0; i < aLi.length; i++) {
            var spanNum = parseInt(aLi[i].getElementsByTagName('span')[3].innerText);
            allMoney += spanNum;
        }
        $('.allmore').text(allMoney);
    }
    //增加选择件数
    var index = $(".more1").text();
    $(".add").click(function() {
        getGoodsNum();//计算产品数
    })

    //减少选择件数
    $(".reduce").click(function() {
        getGoodsNum();//计算产品数
    })

    //点击删除全部
    $(".shanChu").click(function() {
        $(".order-list ,.order-select").css("display", "none");
        $(".more1").text("0");
    })
    function getGoodsNum(){
        var vals=0;
        $(".val").each(function(){
            vals+=+$(this).val();
//			alert(vals)
            $(".more1").text(vals);
        });
    }
</script>

</body>
</html>